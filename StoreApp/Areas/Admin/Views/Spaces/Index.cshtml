@model StoreApp.DAL.Store

@{
    ViewBag.Title = "Index";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

@Html.Partial("~/Areas/Admin/Views/Stores/PartialViews/_Details.cshtml", Model)
@Html.Partial("PartialViews/_GetAll", Model.Spaces)
@Html.Partial("~/Views/Shared/PartialViews/_ModalPopUp.cshtml", model: ("editForm", "Edit Store", new MvcHtmlString("")))
@Html.Partial("~/Views/Shared/PartialViews/_ModalPopUp.cshtml", model: ("splitForm", "Split Store Spaces", new MvcHtmlString("")))
@Html.Partial("~/Views/Shared/PartialViews/_ModalPopUp.cshtml", model: ("deleteForm", "", new MvcHtmlString("")))
@Html.Partial("~/Views/Shared/PartialViews/_ModalPopUp.cshtml", model: ("mergeForm", "", new MvcHtmlString("")))

<script>
    function Edit(id) {
        $.ajax({
            url: "@Url.Action("Edit")",
            type: "Get",
            data: {
                id : id
            }
        }).done(function (data) {
            $('#editForm-body').html(data);
            $('#editForm').modal('show');
        }).fail(function (data) {
        })
    }
    function Split(id) {
        $.ajax({
        url: "@Url.Action("Split")",
        type: "Get",
        data: {
            id : id
        }
        }).done(function (data) {
            $('#splitForm-body').html(data);
            $('#splitForm').modal('show');
        }).fail(function (data) {
        })
    }
    function Delete(id) {
        $.ajax({
            url: "@Url.Action("Delete")",
            type: "Get",
            data: {
                id : id
            }
        }).done(function (data) {
            $('#deleteForm-body').html(data);
            $('#deleteForm').modal('show');
        }).fail(function (data) {
        })
    }
    function Merge(id) {
        $.ajax({
            url: "@Url.Action("Merge")",
            type: "Get",
            data: {
                id : id
            }
        }).done(function (data) {
            $('#mergeForm-body').html(data);
            $('#mergeForm').modal('show');
        }).fail(function (data) {
        })
    }
    function Products(id) {
        spaceId = "space-" + id;
        $.ajax({
            url: "@Url.Action("GetProducts", controllerName:"Products")",
            type: "Get",
            data: {
                id : id
            }
        }).done(function (data) {
            console.log("id=" + spaceId)
            document.getElementById(spaceId).innerHTML = data;
        }).fail(function (data) {
        })
    }
    function closeDeleteModal() {
        $('#deleteForm').modal('hide');
    }
</script>